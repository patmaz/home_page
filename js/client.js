"use strict";!function(o){function e(e,n){o(window).scrollTo(o(e),n)}var n=o(window).height();o(window).resize(function(){}),o(window).load(function(){function e(){console.log("window loaded"),o("#loading").css("display","none"),o("#wrapper").css("visibility","visible");var e=new ScrollMagic.Controller;new ScrollMagic.Scene({triggerHook:"onCenter",duration:n/4}).setPin("#logo").addTo(e)}!function(){setTimeout(e,500)}()}),o(document).ready(function(){o(window).scroll(function(){var e=o(window).scrollTop();e>=n-100?o("#menu-icon").addClass("appear"):o("#menu-icon").removeClass("appear"),e>50?o("#down-arrow").addClass("hide"):o("#down-arrow").removeClass("hide")}),o("#down-arrow").click(function(o){e("#main",800)}),o(".links").on("click",".links-item",function(n){e("#main",800),o("#navbar").fadeOut(200)}),o("#wrapper").on("click","#menu-icon",function(e){o("#navbar").slideToggle(100)}),o("#wrapper").on("click","#close-icon",function(e){o("#navbar").slideToggle(100)}),o("#navbar").css("height",n)})}(jQuery);var app=angular.module("app",["ngResource","ngRoute"]);app.config(["$routeProvider",function(o){o.when("/",{templateUrl:myLocalized.partials+"posts.html",controller:"mainViewController"}).when("/page/:id",{templateUrl:myLocalized.partials+"page.html",controller:"singlePage"}).when("/main",{templateUrl:myLocalized.partials+"main.html",controller:"mainViewController"})}]),app.controller("mainViewController",["$scope","$http","$sce","$routeParams",function(o,e,n,t){o.trustDangerousSnippet=function(o){return n.trustAsHtml(o)},e.get("api/get_page_index/").success(function(e){o.pages=e.pages}),e.get("api/get_posts/").success(function(e){o.posts=e.posts})}]),app.controller("singlePage",["$scope","$http","$sce","$routeParams",function(o,e,n,t){o.trustDangerousSnippet=function(o){return n.trustAsHtml(o)},e({url:"api/get_page/",method:"GET",params:{slug:t.id}}).success(function(e){o.page=e.page,console.log("______"),console.log(o.page)})}]),app.directive("myPost",function(){return{templateUrl:myLocalized.partials+"post.html",replace:!1,restrict:"AE",scope:{post:"=",trustDangerousSnippet:"&"},link:function(o,e,n){var t=$(e).offset().top+$(e).height(),i=$(window).scrollTop()+$(window).height();i>t-150&&$(e).addClass("animated fadeInUp"),$(window).scroll(function(o){var n=$(e).offset().top+$(e).height(),t=$(window).scrollTop()+$(window).height();t>n-150&&$(e).addClass("animated fadeInUp")})}}});